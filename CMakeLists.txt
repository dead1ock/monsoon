PROJECT(monsoon)
CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

# Version
SET(MONSOON_VERSION_MAJOR 0)
SET(MONSOON_VERSION_MINOR 0)
SET(MONSOON_VERSION_BUILD 0)
SET(MONSOON_VERSION_EXTRA "")
SET(MONSOON_VERSION "${MONSOON_VERSION_MAJOR}.${MONSOON_VERSION_MINOR}.${MONSOON_VERSION_BUILD}")

# Global Output Directory
SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)

LINK_DIRECTORIES(${CMAKE_BINARY_DIR}/lib)

# Build Options
OPTION(UNIT_TESTING ON)

FILE ( GLOB MODULES ${CMAKE_SOURCE_DIR}/modules/* )

# Add each module's include directory.
FOREACH ( MODULE ${MODULES} )
  INCLUDE_DIRECTORIES ( "${MODULE}/include/" )
ENDFOREACH ()

# Add them to the build.
FOREACH ( MODULE ${MODULES} )
  ADD_SUBDIRECTORY ( ${MODULE} )
ENDFOREACH ()